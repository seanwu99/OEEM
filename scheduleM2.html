<!DOCTYPE html>
<html>
<head>
    <title>sche11</title>
    <meta charset="utf-8">
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>-->
    <script id="sap-ui-bootstrap"
            src="openui5/resources/sap-ui-core.js"
            data-sap-ui-libs="sap.m"
            data-sap-ui-theme="sap_belize">
    </script>
    <!--<script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->
    <!--<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>-->

    <!--<script src="//"></script>-->
    <script src="Common/bootstrap/bootstrap.min.js"></script>
    <script src="Common/highcharts/highstock.js"></script>

    <!--<script src="Common/highcharts/draggable-points.js"></script>-->
    <script src="Common/highcharts/highcharts-more.js"></script>
    <script src="Highcharts Draggable Points/draggable-points.js"></script>

    <!--<script src="Common/highcharts/draggable-points.js"></script>-->
    <!--<script src="https://code.highcharts.com/modules/data.js"></script>-->

    <!--<link href='//' rel='stylesheet' type='text/css'>-->
    <link href='Common/bootstrap/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
    <link href='Common/font-awesome-4.7.0/css/font-awesome.css' rel='stylesheet' type='text/css'>
    <link href='Common/css/text-cente.css' rel='stylesheet' type='text/css'>


    <style>

        .calendarPAD {
            position: relative;
            width: 242px;
        }

        .calendarPAD header {
            border-radius: 1em 1em 0 0;
            /*background: #e66b6b;*/
            background: #337ab7;
            color: #fff;
            padding: 3em 2em;
        }

        .day {
            font-size: 5em;
            font-weight: 900;
            line-height: 1em;
        }

        .month {
            font-size: 2.5em;
            line-height: 1em;
            padding-left: .3em;
            /*padding: 3em 2em;*/
            /*text-transform: lowercase;*/
        }

        .calendar {
            background: #fff;
            border-radius: 0 0 1em 1em;
            -webkit-box-shadow: 0 2px 1px rgba(0, 0, 0, .2), 0 3px 1px #fff;
            box-shadow: 0 2px 1px rgba(0, 0, 0, .2), 0 3px 1px #fff;
            color: #555;
            display: inline-block;
            padding: 2em;
        }

        .calendar td {
            padding-top: .2em;
            text-align: center;
        }

        /*.current-day {*/
        /*color: #e66b6b;*/
        /*}*/

        /*.prev-month,*/
        /*.next-month {*/
        /*color: #cacaca;*/
        /*}*/

        .ring-left,
        .ring-right {
            position: absolute;
            top: 165px;
        }

        .ring-left {
            left: 2em;
        }

        .ring-right {
            right: 2em;
        }

        .ring-left:before,
        .ring-left:after,
        .ring-right:before,
        .ring-right:after {
            background: #fff;
            border-radius: 4px;
            -webkit-box-shadow: 0 3px 1px rgba(0, 0, 0, .3), 0 -1px 1px rgba(0, 0, 0, .2);
            box-shadow: 0 3px 1px rgba(0, 0, 0, .3), 0 -1px 1px rgba(0, 0, 0, .2);
            content: "";
            display: inline-block;
            margin: 8px;
            height: 32px;
            width: 8px;
        }

        ::-webkit-scrollbar {
            width: 1px; /* for vertical scrollbars */
            height: 10px; /* for horizontal scrollbars */
        }

        ::-webkit-scrollbar-track {
            background: rgba(200, 200, 200, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(50, 50, 50, 0.1);
        }

        .flipped {
            -webkit-transform: rotateY(180deg);
            -moz-transform: rotateY(180deg);
            -ms-transform: rotateY(180deg);
            -o-transform: rotateY(180deg);
            transform: rotateY(180deg);
        }

        /* flip the pane when hovered */
        /*.flip-container:hover .flipper, .flip-container.hover .flipper {*/
        /*transform: rotateY(180deg);*/
        /*}*/

        /*!* entire container, keeps perspective *!*/
        .flip-container {
            perspective: 1000px;
        }

        .flip-container, .flip-front, .flip-back {
            /*width: 100%;*/
            /*padding-left: 2%;*/
            /*padding-right: 2%;*/
            /*height: 90%;*/
        }

        /* flip speed goes here */
        .flipper {
            transition: 1s;
            transform-style: preserve-3d;
            position: inherit;
        }

        /* hide back of pane during swap */
        .flip-front, .flip-back {
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
        }

        /* front pane, placed above back */
        .flip-front {
            z-index: 2;
            /* for firefox 31 */
            transform: rotateY(0deg);
        }

        /* back, initially hidden pane */
        .flip-back {
            transform: rotateY(180deg);
        }

        .textBottom {
            z-index: 99;
            position: inherit;
            color: white;
            font-size: 14px;
            font-weight: bold;
            left: 20px;
            top: 130px;
        }

    </style>

    <script>


        $(document).ready(function () {
//            $("#draggable").draggable();
            cal();
//            sectionX();
            for (var i = 1; i <= Months[tMonth][1]; i++) {

                var seriesDataDuration = [], categoriesDataOrder = [], categoriesDataPartNo = [], categoriesDataMold = [], categoriesDataPress = [];
                var n0 = 1, n1 = Math.random() * 80 + 20;
                for (var n = n0; n <= n1; n++) {
                    var pn = (100000 + Math.round(900000 * Math.random())) + '/' + (100 + 100 * Math.round(100 * Math.random()));
                    var pm = (1000000 + Math.round(9000000 * Math.random())) + '/' + (100 + 10 * Math.round(100 * Math.random()));
                    var ss = 5 * Math.round(parseInt(pn.split("/")[1]) / parseInt(pm.split("/")[1]) * 12);
                    if (ss > 1440) ss = 1440;
                    var s0 = (1440 - ss) * Math.random();
                    seriesDataDuration.push([s0, s0 + ss]);
                    categoriesDataOrder.push(n + ' - Order' + Math.round(123456789 * Math.random()));
                    categoriesDataPartNo.push('PN' + pn.split("/")[0] + '/' + pn.split("/")[1]);
                    categoriesDataMold.push('M' + pm.split("/")[0] + '/' + pm.split("/")[1]);
                    categoriesDataPress.push('P' + (1000 + Math.round(9000 * Math.random())) + '/------');
                }
                sectionN(i);
                dayOrderX(i, seriesDataDuration, categoriesDataOrder);
                collapseCards_innerHTML(i);
//                if (i < 5) {
                collapse_Chart(i, seriesDataDuration, categoriesDataOrder, categoriesDataPartNo, categoriesDataMold, categoriesDataPress);
//                }

            }

            $("#MonthlyCalendar").scrollspy({target: ".navbar", offset: 50});
            $(".navbar").on("activate.bs.scrollspy", function () {
                var dayN;
                for (var n = 1; n <= Months[tMonth][1]; n++) {
                    dayN = document.getElementById('day' + n);
                    dayN.style.background = "#ffffff";
                    if (tm.getDate() != n) {
                        dayN.style.color = "#000000";
                    } else {
                        dayN.style.color = "#ff0000";
                    }

                }
                dayN = document.getElementById($(".nav li.active > a").text());
//            log(dayN.style.color);
                dayN.style.background = "#cacaca";
                if ($(".nav li.active > a").text() != 'day' + tm.getDate()) {
                    dayN.style.color = "#ffffff";
                } else {
                    dayN.style.color = "#ff0000";
                }


            });
            $(".navbar").hide();

            document.getElementById('day' + tm.getDate()).style.background = "#ffffff";
            document.getElementById('day' + tm.getDate()).style.color = "red";
            tableMold_innerHTML();
            tablePress_innerHTML();

        });


        //        var tmDay1 = (new Date(tm - (tDate - 1) * 24 * 3600 * 1000));
        //        log(tmDay1.getDate());
        //        log(tmDay1.getMonth());
        //        log(tmDay1.getDay());

        var Months = [['January', 31], ['February', 28], ['March', 31], ['April', 30], ['May', 31], ['June', 30], ['July', 31], ['August', 31], ['September', 30], ['October', 31], ['November', 30], ['December', 31]];
        var days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
        //        log(dt.toDateString());
        //        log(dt.toISOString());
        //        log(dt.toLocaleString());
        var tm = new Date(new Date() - 0 * 24 * 3600 * 1000);
        var tDate = tm.getDate();
        var tMonth = tm.getMonth();
        var tDays = tm.getDay();
        var week0 = (new Date(tm - (tDate - 1) * 24 * 3600 * 1000)).getDay();

        var d35 = [];
        var _today = 'day' + tm.getDate();


        function cal() {

            for (var i = Months[tMonth - 1][1] - week0 + 2; i <= Months[tMonth - 1][1]; i++) {
                d35.push('L' + i);
            }
            for (var i = 1; i <= Months[tMonth][1]; i++) {
                d35.push('P' + i);
            }
            var tt = 1;
            while (d35.length < 35) {
//                for (var i = 1; i <= Months[tMonth][1]; i++) {
                d35.push('N' + tt++);
//                }
            }
//            log(d35);
            while (d35.length > 35 && d35.length < 42) {
                d35.push('N' + tt++);
            }

            var pr1 = '', pr2 = '';
            for (var i = 1; i <= Months[tMonth][1]; i++) {
                pr1 += '<li><a href="#section' + i + '">day' + i + '</a></li>';
                pr2 += '<div id="section' + i + '"></div>';
            }
            document.getElementById('sectionX').innerHTML = pr1;
            document.getElementById('MonthlyCalendar').innerHTML = pr2;
            var pr = '';


            var pr =
                '<header>' +
                '<div class="day">' + tDate + '</div>' +
                '<div class="month">' + Months[tMonth][0] + '</div>' +
                '</header>' +
                '<table class="calendar" style="border-collapse: collapse; border-spacing: 0;">' +
                '<thead style="color: #ff0000; font-size: 90%; font-weight: 700; padding: 0 0 0 0; margin: 0 0 0 0">' +
                '<tr style="margin: 0 0 0 0">';
//            var pl = '10px';
            for (var i = 1; i <= days.length; i++) {
                pr += '<td style="padding-left: 5px; padding-right: 5px;">' + days[i - 1].substring(0, 2) + '</td>';
            }
            pr += '</tr></thead><tbody >';
            var dd = 0;
            for (var m = 1; m <= d35.length / 7; m++) {
                pr += '<tr>';
                for (var n = 1; n <= 7; n++) {
                    if (d35[dd].substring(0, 1) == 'P') {
                        pr += '<td id="day' + d35[dd].substring(1) + '" style="background: #ffffff; cursor:pointer" onclick="location.href = \'#section' + d35[dd].substring(1) + '\'">' +
                            d35[dd++].substring(1) + '</td>';
                    } else {
                        pr += '<td style="color:#cacaca;">' + d35[dd++].substring(1) + '</td>';
                    }
                }
                pr += '</tr>';
            }
            pr += '</tbody></table><div class="ring-left"></div><div class="ring-right"></div>';
            document.getElementById('calendarPAD').innerHTML = pr;
        }

        function sectionN(_day) {
            var pr = ' <div id="dayOrderX' + _day +
                '" class="row" style="padding: 15px 0 0 0;"></div>' +
                '<br/>' +
                '<div id="collapse' + _day + '"' + ' style="margin: -15px 0 0 0">' +
                '<div class="panel panel-default" style="border:0; box-shadow: none;">' +
                '<div id="collapse' + _day + '_Cards" class="collapse" style="border:0; box-shadow: none;"></div>' +
                '</div>' +
                '<div class="panel" style="border:0; box-shadow: none;">' +
                '<div id="collapse' + _day + '_Chart" class="panel collapse" style="height:600px; margin: 0 0 0 0px; border:0; box-shadow: none;"></div>' +
                '</div>' +
                '</div>' +
                '</div>';
            document.getElementById('section' + _day).innerHTML = pr;
        }

        function dayOrderX(_day, _seriesDataDuration, _categoriesDataOrder) {
            var ss = '', ww = 0;
//            log(_day + "/section/ " + document.getElementById("section" + _day).offsetWidth);
            for (var i = 0; i < _seriesDataDuration.length; i++) {
//                log(i + '/' + _seriesDataDuration[i][1] + '/' + _seriesDataDuration[i][0]);
                ss += '<div class="progress-bar " role="progressbar" style="width:' +
                    ( 100 + 200 * ( _seriesDataDuration[i][1] - _seriesDataDuration[i][0] ) / 1440) +
                    'px; background: ' + chartColors[i % 10] + '" ' +
                    'onclick="orderBar_Click(' + 'this,' + _day + ',' + i + ')">' +
                    _categoriesDataOrder[i] + '</div>';
                ww += 100 + 200 * ( _seriesDataDuration[i][1] - _seriesDataDuration[i][0] ) / 1440;
            }
//            log('week0 ' + (_day + week0) % 7);
            var pr = '<div>' +
                '<a data-toggle="collapse" data-parent="#collapse' + _day +
                '" href="#collapse' + _day + '_Cards">' +
                '<div class="progress-bar" role="progressbar" ' +
                'style="border-radius: 3px; width:150px; margin: 0px 10px 0px 20px; font-size: 14px" ' +
                'onclick="dayBar_Click(' + 'this,' + _day + ')">' +
                '<i class="fa fa-calendar-check-o  fa-1x" style="width: 30px"></i><b>' +
                (days[(_day + week0 - 2) % 7]).substring(0, 3) + ',' + (Months[tMonth][0]).substring(0) + ' ' + _day + '</b></div></a>' +
                '<div id="progress' + _day + '" ' +
                'style="overflow-x: hidden;" onmouseover="orderBar_onmouseover(this)" onmouseout="orderBar_onmouseout(this)">' +
                //                'style="overflow-x: hidden;" onmouseover=function () {this.style.overflowX = "scroll";  } onmouseout="outOfBar(this)">' +
                '<div class="progress" style="cursor: pointer;margin: 0px 0px 0px 0px; padding: 0 0 0 0; background: #ccc; width: ' + ww + 'px;">' + ss +
                '</div></div></div>';
            document.getElementById('dayOrderX' + _day).innerHTML = pr;
        }


        var collapse_ChartV = [];

        function collapse_Chart(_DAY_, seriesDataDuration, categoriesDataOrder, categoriesDataPartNo, categoriesDataMold, categoriesDataPress) {
            collapse_ChartV[_DAY_] = Highcharts.chart('collapse' + _DAY_ + '_Chart', {
                chart: {
                    marginTop: 100,
                    marginBottom: 50,
//                    marginLeft: 50,
//                    marginRight: 50,
                    height: 600,
                    inverted: false,
                    animation: false,
                },

                title: {
                    text: null
                },
                subtitle: {
                    text: null
                },
//
//                xAxis:
//                    {
//                        min: 0,
//                        max: 14,
//                        opposite: false,
//                        categories: categoriesDataOrder,
//                        labels: {
//                            enabled: true
//                        },
//                        events: {
//                            setExtremes: function (e) {
//                                if (false && e.trigger === 'navigator') {
//                                    document.getElementById('dayOrder' + _DAY_).scrollLeft = 6435 * ((100 * this.min) / 100) / 86;
//                                }
//                            }
//                        }
//                    },
                xAxis: [
                    {
                        min: 0,
                        max: 14,
                        visible: true,
                        opposite: true,
                        categories: categoriesDataOrder,
                        labels: {
                            enabled: true
                        },
                        events: {
                            setExtremes: function (e) {
                                log('setExtremes/xAxis');
                                if (false && e.trigger === 'navigator') {
                                    document.getElementById('dayOrder' + _DAY_).scrollLeft = 6435 * ((100 * this.min) / 100) / 86;
                                }
                            }
                        },
                    },
                    {
                        categories: categoriesDataPartNo,
                        visible: false,
                    },
                    {
                        categories: categoriesDataMold,
                        visible: false,
                    },
                    {
                        categories: categoriesDataPress,
                        visible: false,
                    }
                ],

                scrollbar: {
                    enabled: false,
//                    showFull: false,
//                    liveRedraw: false,
//                    barBackgroundColor: 'white',
//                    barBorderRadius: 7,
//                    barBorderWidth: 0,
//                    buttonBackgroundColor: 'white',
//                    buttonBorderWidth: 0,
//                    buttonArrowColor: 'white',
//                    buttonBorderRadius: 7,
//                    rifleColor: 'yellow',
//                    trackBackgroundColor: 'white',
//                    trackBorderWidth: 0,
//                    trackBorderColor: 'white',
//                    trackBorderRadius: 7
                },
                yAxis: {
                    reversed: true,
                    title: {
                        text: null
                    },
                    labels: {
                        formatter: function () {
//                            var tm = this.value + 8 * 60;
//                            if (tm < 12 * 60) {
//                                return (new Date(tm * 60 * 1000)).toISOString().substr(11, 5) + 'AM';
//                            } else if (tm == 12 * 60) {
//                                return (new Date(tm * 60 * 1000)).toISOString().substr(11, 5) + 'PM';
//                            } else if (tm > 12 * 60 && tm < 24 * 60) {
//                                return (new Date((tm - 12 * 60) * 60 * 1000)).toISOString().substr(11, 5) + 'PM';
//                            } else {
//                                return (new Date((tm - 24 * 60) * 60 * 1000)).toISOString().substr(11, 5) + 'AM';
//                            }
                            if (this.value < 16 * 60) {
                                return (new Date((this.value + 8 * 60) * 60 * 1000)).toISOString().substr(11, 8);
                            } else if (this.value == 16 * 60) {
                                return (new Date(0)).toISOString().substr(11, 8);
                            } else {
                                return (new Date((this.value - 16 * 60) * 60 * 1000)).toISOString().substr(11, 8);
                            }
                        }
                    },
                    min: 0,
                    max: 1440,
                    tickInterval: 120,
                },
                plotOptions: {
                    series: {
                        events: {
//                            load: function () {
//                                //add report div
////                            var ch = this,
////                                x = 20,
////                                y = 57;
////
////                            ch.flashText = ch.renderer.text('<div id="flash"><div id="report"></div></div>', x, y + 10, true).attr({
////                                zIndex: 101
////                            }).add();
//                            },
//                            mouse
//                            dblclick: function () {
//                                console.log('dblclick');
////                            reloadFlash();
////                            $('#report').html('dbclick on chart');
//                            },
//                            click: function () {
//                                console.log('click chart');
////                            reloadFlash();
////                            $('#report').html('click on chart');
//                            },
//                            contextmenu: function () {
////                            reloadFlash();
////                            $('#report').html('context menu on chart');
//                            }
                        },
                        pointWidth: 20//width of the column bars irrespective of the chart size
                    },
                    columnrange: {
                        dataLabels: {
                            enabled: true,
//                        useHTML: true,
                            formatter: function () {
                                var v = '';
//                        return this.y + '/ff/';
                                if (this.y < 16 * 60) {
                                    v = (new Date((this.y + 8 * 60) * 60 * 1000)).toISOString().substr(11, 5) + ':00';
                                } else if (this.y == 16 * 60) {
                                    v = (new Date(0)).toISOString().substr(11, 8);
                                } else {
                                    v = (new Date((this.y - 16 * 60) * 60 * 1000)).toISOString().substr(11, 5) + ':00';
                                }
                                return v;
                            }
                        }
                    }
                },

                series: [{
                    visible: true,
                    type: 'columnrange',
                    name: 'Duration',
                    colorByPoint: true,
                    data: seriesDataDuration,
                    draggableY: true,
                    dragMinY: 0,
                    dragMaxY: 1440,
//                    dragSensitivity: 10,
                    dragPrecisionY: 5,
                    cursor: 'ns-resize',
//                    draggableY: true,
//                    draggableX: false,
                }],
                tooltip: {
                    useHTML: false,
                    formatter: function () {
                        return '<b>' + this.key + '</b><br>' +
                            'Duration: ' + (new Date((this.point.high - this.point.low ) * 60 * 1000)).toISOString().substr(11, 8);
                    }
                },
                legend: {
                    enabled: false
                },
                credits: {
                    enabled: false,
                    href: 'http://www.rtsperfectplant.com/',
                    position: {
                        align: 'right',
                        x: -10,
                        verticalAlign: 'bottom',
                        y: -5
                    },
                    style: {
                        cursor: 'pointer',
                        color: '#999999',
                        fontSize: '9px'
                    },
                    text: 'RTS Consulting Inc.'
                },
                exporting: {
                    enabled: false
                },
            });

        }


        function collapseX(_day) {

        }

        function log(obj) {
            console.log(obj);
        }

        function orderBar_onmouseover(dv) {
//            log(dv.style);
            dv.style.overflowX = "scroll";
        }

        function orderScroll(dv) {
//            log(dv.scrollTop + " " + dv.clientWidth);
//            log(dv.scrollLeft);
//            document.getElementById('a1').innerHTML = dv.scrollTop + "/" + dv.clientWidth + "/" + dv.scrollLeft +
//                '<br>' + collapse1_Chart.xAxis[0].min + '/' + collapse1_Chart.xAxis[0].max;
//        var m = dv.scrollLeft / 6435 * 99;
//        collapse1_Chart.xAxis.min = m;
//        collapse1_Chart.xAxis.max = 12 + m;
//        collapse1_Chart.refresh();

//        collapse1_Chart.xAxis[0].isDirty = true;
//        collapse1_Chart.redraw(true);
        }

        function orderBar_onmouseout(dv) {
            dv.style.overflowX = "hidden";

        }

        function dayBar_Click(dv, d) {
            if ($('#collapse' + d + '_Chart').hasClass('in')) {
                $('#collapse' + d + '_Chart').collapse('hide');
            }
            for (var i = 1; i <= 12; i++) {
                if (i + collapse_ChartV[d].series[0].xAxis.min <= collapse_ChartV[d].series[0].data.length) {
                    collapseCardsF_innerHTML(d, i, 'F');
                } else {
                    collapseCardsF_innerHTML(d, i, 'f');
                }

            }
        }

        function d2t(t) {
            var v = '';
            if (t < 16 * 60) {
                v = (new Date((t + 8 * 60) * 60 * 1000)).toISOString().substr(11, 5);
            } else if (t == 16 * 60) {
                v = (new Date(0)).toISOString().substr(11, 5);
            } else {
                v = (new Date((t - 16 * 60) * 60 * 1000)).toISOString().substr(11, 5);
            }
            return v;
        }

        function collapseCardsF_innerHTML(d, n, side) {
            if (side == 'F') {
                var nm = n + collapse_ChartV[d].series[0].xAxis.min - 1;
                var pr =
                    '<ul class="list-group" >' +
                    '    <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center; background-color: ' +
                    chartColors[nm % 10] + '; border-color: ' + chartColors[nm % 10] + ';"><b>' +
                    collapse_ChartV[d].xAxis[0].categories[nm] + '</b></li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">' +
                    'From ' + d2t(collapse_ChartV[d].series[0].data[nm].low) + ' To ' + d2t(collapse_ChartV[d].series[0].data[nm].high) +
                    ' ,  ' + Math.round(collapse_ChartV[d].series[0].data[nm].high - collapse_ChartV[d].series[0].data[nm].low) + ' min' + '</li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">' +
                    'Part No.: ' +
                    collapse_ChartV[d].xAxis[1].categories[nm].split("/")[0] + ' , ' +
                    collapse_ChartV[d].xAxis[1].categories[nm].split("/")[1] +
                    '</li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">' +
                    'Mold: ' +
                    collapse_ChartV[d].xAxis[2].categories[nm].split("/")[0] + ' , ' +
                    collapse_ChartV[d].xAxis[2].categories[nm].split("/")[1] +
                    '</li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">' +
                    'Press: ' +
                    collapse_ChartV[d].xAxis[3].categories[nm].split("/")[0] + ' , ' +
                    collapse_ChartV[d].xAxis[3].categories[nm].split("/")[1] +
                    '</li>' +
                    '</ul>';
                document.getElementById('collapse' + d + '_Cards' + n + 'F').innerHTML = pr;
            } else if (side == 'f') {
                var pr =
                    '<ul class="list-group">' +
                    '    <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center; background-color:lightgrey; border-color: lightgrey"><b>---</b></li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">---</li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">---</li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">---</li>' +
                    '    <li class="list-group-item" style="padding: 5px 20px 5px 20px;">---</li>' +
                    '</ul>';
                document.getElementById('collapse' + d + '_Cards' + n + 'F').innerHTML = pr;
            }
        }


        function orderBar_Click(dv, d, i) {
            if ($('#collapse' + d + '_Chart').hasClass('in') == false) {
                $('#collapse' + d + '_Cards').collapse('hide');
                $('#collapse' + d + '_Chart').collapse('show');
            }
            collapse_ChartV[d].xAxis[0].setExtremes(i, i + 14);
        }

        function cards_flipper(event) {
//            log('cards_flipper');
//            log(event);
            event.classList.toggle('flipped');
            tableMold_innerHTML();
        }

        function collapseCards_innerHTML(_day) {
            var pr = '<br/>' +
                '                    <div class="row" style="height: 200px;">' +
                '                        <div class="flip-container col-sm-3">' +
                //                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                            <div class="flipper" onclick="cards_flipper(this)">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards1F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group" >' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group" >' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards2F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards3F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards4F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                    </div>' +
                '                    <div class="row" style="height: 200px;">' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards5F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards6F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards7F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards8F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +

                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                    </div>' +
                '                    <div class="row" style="height: 200px;">' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards9F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards10F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards11F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="flip-container col-sm-3">' +
                '                            <div class="flipper" onclick="this.classList.toggle(\'flipped\')">' +
                '                                <div class="flip-front" style="width: 100%;" id="collapse' + _day + '_Cards12F" ondrop="mpDrop(event)" ondragover="allowDrop(event)">' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item active" style="padding: 5px 20px 5px 20px; text-align: center;"><b>Order</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px;">...</li>' +
                '                                    </ul>' +
                '                                </div>' +
                '                                <div class="flip-back" style="width: 100%;">' +
                '                                    <div style="position: inherit; top: 30px; left: 0">' +
                '                                        <img src="Common/pics/1-1.png" alt="Forest" width="100%" height="125">' +
                '                                    </div>' +
                '                                    <ul class="list-group">' +
                '                                        <li class="list-group-item" style="background: #f0ad4e; padding: 5px 20px 5px 20px; text-align: center; color: #ffffff"><b>Description</b></li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;" >...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                        <li class="list-group-item" style="padding: 5px 20px 5px 20px; opacity: 0.9;">...</li>' +
                '                                    </ul>' +

                '                                </div>' +
                '                            </div>' +
                '                        </div>' +
                '                    </div>';
            document.getElementById('collapse' + _day + '_Cards').innerHTML = pr;
        }

        function tableMold_innerHTML(pn) {
            var pr = '<thead><tr><th></th><th>Mold</th></tr></thead><tbody>';
            var rr = [];
            var r = Math.round(25 * Math.random());
            for (var i = 0; i < 20; i++) {
                do {
                    var _exit = true;
                    r = Math.round(25 * Math.random());
                    $.each(rr, function (i, _r) {
                        if (_r == r) {
                            _exit = false;
                        }
                    });
                } while (!_exit);
                rr.push(r);
                var mold = 'M' + (1000000 + Math.round(9000000 * Math.random())) + '/' + (100 + 10 * Math.round(100 * Math.random()));
                pr = pr +
                    '<tr>' +
                    '<td><img src="Common/pics/p' +
                    r +
                    '.jpg" class="img-rounded"  height="60" id="' +
                    mold +
                    '" ondrag="moldDarg(event)" draggable="true"></td>' +
                    '<td>' +
                    mold.split("/")[0] +
                    '<br/>' +
                    mold.split("/")[1] +
                    '<br/>' +
                    'per hour' +
                    '</td></tr>';
            }
//            log(rr);
            pr = pr + '</tbody>';
            document.getElementById('moldTable').innerHTML = pr;
        }

        function tablePress_innerHTML(mold) {
            var pr = '<thead><tr><th></th><th>Press</th></tr></thead><tbody>';
            var rr = [];
            var r = Math.round(25 * Math.random());

            for (var i = 0; i < 10; i++) {
                do {
                    var _exit = true;
                    r = Math.round(25 * Math.random());
                    $.each(rr, function (i, _r) {
                        if (_r == r) {
                            _exit = false;
                        }
                    });
                } while (!_exit);
                rr.push(r);

                var press = 'P' + (1000 + Math.round(9000 * Math.random())) + '/------';
                pr = pr +
                    '<tr>' +
                    '<td><img src="Common/pics/m' +
                    r +
                    '.jpg" class="img-rounded"  height="60" id="' +
                    press +
                    '" ondrag="pressDarg(event)" draggable="true"></td>' +
                    '<td>' +
                    press.split("/")[0] +
                    '<br/>' +
                    press.split("/")[1] +
                    '</td></tr>';
            }
//            log(rr);
            pr = pr + '</tbody>';
            document.getElementById('pressTable').innerHTML = pr;
        }

        var chartColors = [
            '#7cb5ec',
            '#434348',
            '#90ed7d',
            '#f7a35c',
            '#8085e9',
            '#f15c80',
            '#e4d354',
            '#2B9091',
            '#f45b5b',
            '#91e8e1'
        ]

        function moldDarg(e) {
//            log('moldDarg');
//            log('dragging: ' + e.target.id);
            dragID = 'moldDarg:' + e.target.id;
        }

        function pressDarg(e) {
//            log('moldDarg');
//            log('dragging: ' + e.target.id);
            dragID = 'pressDarg:' + e.target.id;
        }


        function mpDrop(e) {
            var pp = e.target.parentElement.parentElement;
            var id = pp.id;
            if (id != null) {
                if (dragID.split(":")[0] == "moldDarg") {
                    var collapse = parseInt(id.split("collapse")[1]);
                    var Cards = parseInt(id.split("Cards")[1]);
                    var chart = collapse_ChartV[parseInt(id.split("collapse")[1])];
                    chart.xAxis[2].categories[Cards + collapse_ChartV[collapse].series[0].xAxis.min - 1] = dragID.split(":")[1];
                    //todo

                    var data = [];
                    $.each(chart.series[0].data, function (i, _data) {
                        data.push([_data.low, _data.high]);
                    });
                    var pn = chart.xAxis[1].categories[Cards + collapse_ChartV[collapse].series[0].xAxis.min - 1];
                    //                    var pn = (100000 + Math.round(900000 * Math.random())) + '/' + (100 + 100 * Math.round(100 * Math.random()));
                    var pm = chart.xAxis[2].categories[Cards + collapse_ChartV[collapse].series[0].xAxis.min - 1];

                    var ss = 5 * Math.round(parseInt(pn.split("/")[1]) / parseInt(pm.split("/")[1]) * 12);
                    if (ss > 1440) ss = 1440;
                    var s0 = (1440 - ss) * Math.random();
                    data[Cards + collapse_ChartV[collapse].series[0].xAxis.min - 1] = [s0, s0 + ss];
                    chart.series[0].update({
                        data: data
                    }, true);
                    tablePress_innerHTML();

                } else if (dragID.split(":")[0] == "pressDarg") {
                    var collapse = parseInt(id.split("collapse")[1]);
                    var Cards = parseInt(id.split("Cards")[1]);
                    var chart = collapse_ChartV[parseInt(id.split("collapse")[1])];
                    chart.xAxis[3].categories[Cards + collapse_ChartV[collapse].series[0].xAxis.min - 1] = dragID.split(":")[1];
                }

                collapseCardsF_innerHTML(collapse, Cards, 'F');
            }
        }

        function allowDrop(event) {
            event.preventDefault();
        }

        var dragID = '';
    </script>
</head>
<body>


<div class="panel panel-default" style="shadow:0;height:15vh;; margin: 2vh 5% 1vh 5%; background: #f0f0f0">
    <div class="panel-body" style="text-align: center">
        <h2>// Header</h2>
    </div>
</div>

<!--<nav class="navbar navbar-inverse navbar-fixed-top" style="display: none;">-->
<nav class="navbar" style="display: none">
    <div class="container-fluid">
        <div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav" id="sectionX">
                    <li><a href="#section(x)">day(x)</a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>


<div class="container">


    <div id="MonthlyCalendar" style="position: relative;  top:2vh; height: 65vh; overflow-x: hidden;">

        <div id="section1">
            <div id='dayOrderX1' class="row" style="margin: 10px 0px 0px 0px; padding: 10px 0 0 0;">
                <a data-toggle="collapse" data-parent="#collapse1" href="#collapse1_Cards">
                    <div class="progress-bar" role="progressbar"
                         style="font-size:14px; border-radius: 3px; width:150px; margin: 0px 10px 0px 20px;">
                        <i class="fa fa-calendar-check-o  fa-1x" style="width: 30px"></i><b>Sun, August 1</b>
                    </div>
                </a>
                <div id="progress1" style="overflow-x: auto; ">
                    <a data-toggle="collapse" data-parent="#collapse1" href="#collapse1_Chart" style="background: #7cb5ec">
                        <div class="progress" style="width:1900px; margin: 0px 0px 0px 0px; padding: 0 0 0 0; background: #ccc">
                            <div class="progress-bar " role="progressbar" style="width:100px; background: #ddd;" onclick="orderBar_Click(1,1)">
                                1 - ACBD111111111
                            </div>
                        </div>
                    </a>
                </div>
            </div>

            <!--<hr/>-->

            <div id="collapse1" style="margin: -15px 0 0 0">

                <div class="panel panel-default" style="border:0; box-shadow: none;"></div>

                <div class="panel" style="border:0; box-shadow: none;">
                    <div id="collapse1_Chart" class="panel collapse" style="height:600px; margin: 0 0 0 0px;"></div>
                </div>

            </div>

        </div>
    </div>

</div>
<div class="panel panel-default" style="shadow:0;height:9vh;top: 1vh; margin: 6vh 5% 2vh 5%;background: #f0f0f0">
    <div class="panel-body" style="text-align: right">
        RTS Consulting ...
    </div>
</div>


<div style=" position:absolute; top: 20vh; left: 5%; background: #fff;  margin: 0;">

    <div class="calendarPAD" id="calendarPAD"></div>

</div>


<div class="panel panel-default" style="shadow:0; position: absolute; top: 62vh; height:24vh; width: 13%; left: 5%; background: #f0f0f0">
    <div id='a1' class="panel-body" style="text-align: right; ">
        A1
    </div>
</div>
<div class="panel panel-default" style="shadow:0; position: absolute; top: 20vh; height:42vh; width: 13%; left: 82%; overflow-y: auto;"
     ondrop="mpDrop(event)" ondragover="allowDrop(event)">
    <table id="moldTable" class="table" style="position: inherit; height:50vh;">
        <thead>
        <tr>
            <th></th>
            <th>Mold</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td>M111111111</td>
        </tr>
        </tbody>
    </table>

</div>

<div class="panel panel-default" style="shadow:0; position: absolute; top: 65vh; height:20vh; width: 13%; left: 82%; overflow-y: auto;"
     ondrop="mpDrop(event)" ondragover="allowDrop(event)">
    <table id="pressTable" class="table" style="position: inherit; height:50vh;">
        <thead>
        <tr>
            <th></th>
            <th>Press</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td>P111111111</td>
        </tr>
        </tbody>
    </table>

</div>

</body>
</html>
